<h2>Create</h2>

<h4>Contract</h4>
<hr />
<div class="row">
  <div class="col-md-4">
    <form>
      <div class="form-group">
        <input class="form-control" type="text" name="contractName" [(ngModel)]="contract.contractName"/> <br><br>
      </div>
      <div class="form-group">
        <input class="form-control" type="number" name="planCost" [(ngModel)]="contract.planCost"/> <br><br>
      </div>
      <div class="form-group">
        <input class="form-control" type="number" name="factCost" [(ngModel)]="contract.factCost"/> <br><br>
      </div>
      <mat-form-field>
        <mat-label>Stages</mat-label>
        <mat-select [(value)]="myselectedStages" multiple (selectionChange)="changeStages()">
          <mat-option *ngFor="let stage of stages" [value]="stage.stageId">{{stage.stageName}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <table *ngIf="filterStages.length">
        <thead>
          <tr>
            <th>Название стадии</th>
            <th>Дата</th>
            <th>Дата</th>
            <th>Дата</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stage of filterStages">
            <td>{{ stage.stageName }}</td>
            <td>
              <div class="form-group">
                <input class="form-control" type="date" name="planCompletionDate" [(ngModel)]="stage.planCompletionDate"/> <br><br>
              </div>
            </td>
            <td>
              <div class="form-group">
                <input class="form-control" type="date" name="projCompletionDate" [(ngModel)]="stage.projCompletionDate"/> <br><br>
              </div>
            </td>
            <td>
              <div class="form-group">
                <input class="form-control" type="date" name="factCompletionDate" [(ngModel)]="stage.factCompletionDate"/> <br><br>
              </div>
            </td>
          </tr>  
        </tbody>
      </table>
    
      <div class="form-group">
        <input type="submit" value="Create" class="btn btn-default" (click)="save()"/>
      </div>
    </form>
    <div>
      <a asp-action="Index">Back to List</a>
    </div>

  </div>

</div>

